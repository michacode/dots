opdater_atom(){
sudo curl -# -o /usr/local/bin/atomicwallet.AppImage https://get.atomicwallet.io/download/atomicwallet.AppImage && chmod a+x /usr/local/bin/atomicwallet.AppImage && sudo cp /tmp/atomic_wallet_checksum.tmp ~/.config/atomic_wallet/atomic_wallet_checksum
echo "Rydder op..."
rm /tmp/atomic_wallet_checksum.tmp | [[ "$?" == "0" ]] && echo "Færdig."
}

manuelle_installationer(){

### ATOMIC WALLET ###

# Mappen ikke fundet

[[ ! -d ~/.config/atomic_wallet/ ]] && echo "Opretter mappe til opdatering af Atomic Wallet" &&  mkdir ~/.config/atomic_wallet && echo "Oprettede mappen ~/.config/atomic_wallet"

# Ingen checksum fundet i mappen 

[[ ! -f ~/.config/atomic_wallet/atomic_wallet_checksum ]] && echo "Ingen checksum-fil fundet. Geninstallerer Atomic Wallet..." && echo && opdater_atom


# Hent og tjek Atomic Wallet checksum

echo "Henter Atomic Wallet checksum..." && echo
curl -o /tmp/atomic_wallet_checksum.tmp https://get.atomicwallet.io/download/sha256sum.txt && echo

ny_atom_checksum=$(cat </tmp/atomic_wallet_checksum.tmp | awk '/atomicwallet.AppImage/ {print $1}')
atom_checksum=$(cat <~/.config/atomic_wallet/atomic_wallet_checksum | awk '/atomicwallet.AppImage/ {print $1}')


# Opdatering fundet

[[ "$ny_atom_checksum" != "$atom_checksum" ]] && echo "Atomic Wallet bør opdateres. Starter opdatering..." && echo && opdater_atom 

# Atomic Wallet er opdateret

[[ "$ny_atom_checksum" == "$atom_checksum" ]] && echo "Den nyeste version af Atomic Wallet findes allerede i systemet." && echo && echo "Rydder op..." && rm /tmp/atomic_wallet_checksum.tmp | [[ "$?" == "0" ]] && echo Færdig.

}

opdater(){

# Opdater Atom

[[ "$1" == "atom" ]] && manuelle_installationer

# Opdater hele systemet

[[ -z "$1" ]] && stat="system" && echo "Opdaterering af systemet startes ..." &&  yay -Syu $@ && echo
[[ "$1" == *"--"* ]] && stat="system" && echo "Opdaterering af systemet startes med argumentet \"$1\"..." &&  yay -Syu $@ && echo

[[ "$stat" == "system" ]] && manuelle_installationer


}

win(){
[[ "$1" == "docs" ]] && ranger /mnt/Windows/Users/Micha/Documents
[[ "$1" == "down" ]] && ranger /mnt/Windows/Users/Micha/Downloads
[[ "$1" == "" ]] && ranger /mnt/Windows/Users/Micha
}

alias atom='/usr/local/bin/atomicwallet.AppImage &>/dev/null'
alias opdater=opdater $@
alias opd=opdater $@
alias bw='bitwarden-desktop &>/dev/null'
alias bb='brave &>/dev/null'
alias win=win $@
export atom
export opdater
export opd
export bw

alias ls='ls --color=auto'
LS_COLORS=$LS_COLORS:'di=1;33:fi=0;37:ex=1;36' ; export LS_COLORS
